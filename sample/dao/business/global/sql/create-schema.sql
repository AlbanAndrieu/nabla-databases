alter table APP.Person drop constraint FK8E488775F4CBC80F;
alter table APP.PersonActivity drop constraint FK413E99A493E9BC25;
alter table APP.PersonActivity drop constraint FK413E99A4A6037325;
alter table APP.app_user drop constraint FK459C5729F4CBC80F;
alter table APP.user_role drop constraint FK143BF46AE028C345;
alter table APP.user_role drop constraint FK143BF46A85538725;
drop table APP.Activity;
drop table APP.Address;
drop table APP.Person;
drop table APP.PersonActivity;
drop table APP.app_user;
drop table APP.role;
drop table APP.user_role;
drop table APP.hibernate_unique_key;
create table APP.Activity (id bigint not null, name varchar(30) not null unique, version integer not null, primary key (id));
create table APP.Address (id bigint not null, address varchar(150) not null, address_info varchar(30), cedex varchar(3), city varchar(20) not null, code varchar(5) not null, country varchar(20) not null, postal_code varchar(15), province varchar(100), version integer not null, primary key (id));
create table APP.Person (id bigint not null, birthDate date not null, first_name varchar(50) not null, last_name varchar(50) not null, married smallint not null, nbChildren integer not null, version integer not null, address_id bigint not null unique, primary key (id));
create table APP.PersonActivity (person_id bigint not null, ACTIVITY_ID bigint not null, primary key (person_id, ACTIVITY_ID));
create table APP.app_user (id bigint not null, account_expired smallint not null, account_locked smallint not null, credentials_expired smallint not null, email varchar(255) not null unique, account_enabled smallint, first_name varchar(50) not null, last_name varchar(50) not null, password varchar(255) not null, password_hint varchar(255), phone_number varchar(255), username varchar(50) not null unique, version integer, website varchar(255), address_id bigint not null unique, primary key (id));
create table APP.role (id bigint not null, description varchar(64), name varchar(20), primary key (id));
create table APP.user_role (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id));
alter table APP.Person add constraint FK8E488775F4CBC80F foreign key (address_id) references APP.Address;
alter table APP.PersonActivity add constraint FK413E99A493E9BC25 foreign key (person_id) references APP.Person;
alter table APP.PersonActivity add constraint FK413E99A4A6037325 foreign key (ACTIVITY_ID) references APP.Activity;
alter table APP.app_user add constraint FK459C5729F4CBC80F foreign key (address_id) references APP.Address;
alter table APP.user_role add constraint FK143BF46AE028C345 foreign key (role_id) references APP.role;
alter table APP.user_role add constraint FK143BF46A85538725 foreign key (user_id) references APP.app_user;
create table APP.hibernate_unique_key ( next_hi integer );
insert into APP.hibernate_unique_key values ( 0 );
